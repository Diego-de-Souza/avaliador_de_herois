<section class="secao-cadastro">
    @if(!isMenuNav){
        <app-header-platform></app-header-platform>
    }
    <div class="secao-cadastro__container">
        <h2>Cadastro de Usuário</h2>
        <form [formGroup]="cadastroForm" (ngSubmit)="onSubmit()">
            <div>
                <label for="fullname">Nome completo</label>
                <div class="secao-cadastro__container-form__row-line">
                    <fa-icon [icon]="faUser"></fa-icon>
                    <input type="text" name="fullname" formControlName="fullname" id="fullname" placeholder="Digite seu nome completo">
                </div>
                                @if(isFieldInvalid('fullname')){
                                    <div class="fieldInvalid">Nome é obrigatório e deve ter no mínimo 3 caracteres</div>
                                }
            </div>
            <div class="secao-cadastro__container-form__row">
                <div class="secao-cadastro__container-form__row__space">
                    <label for="nickname">nickname</label>
                    <div class="secao-cadastro__container-form__row-line">
                        <fa-icon [icon]="faUserTag"></fa-icon>
                        <input type="text" name="nickname" formControlName="nickname" id="nickname" placeholder="Digite seu nick name">
                    </div>
                                        @if(isFieldInvalid('nickname')){
                                            <div class="fieldInvalid">O nickName é obrigatório e deve conter no mínimo 3 caracteres</div>
                                        }
                </div>
                <div class="secao-cadastro__container-form__row__space">
                    <label for="birthdate">Data de Nascimento</label>
                    <div class="secao-cadastro__container-form__row-line">
                        <fa-icon [icon]="faCalendarDays"></fa-icon>
                        <input type="date" name="birthdate" formControlName="birthdate" id="birthdate" class=" custom-option">
                    </div>
                                        @if(isFieldInvalid('birthdate')){
                                            <div class="fieldInvalid">O campo de data de nascimento é obbrigatório</div>
                                        }
                </div>
            </div>
            <div class="secao-cadastro__container-form__row">
                <div class="secao-cadastro__container-form__row__space">
                    <label for="firstemail">Email Principal</label>
                    <div class="secao-cadastro__container-form__row-line">
                        <fa-icon [icon]="faEnvelope"></fa-icon>
                        <input type="email" name="firstemail" formControlName="firstemail" id="firstemail" placeholder="Digite seu email principal ">
                    </div>
                                        @if(isFieldInvalid('firstemail')){
                                            <div class="fieldInvalid">O email é obrigatório de ver conter um formato válido de email</div>
                                        }
                </div>
                <div class="secao-cadastro__container-form__row__space">
                    <label for="secondemail">Email Secundário</label>
                    <div class="secao-cadastro__container-form__row-line">
                        <fa-icon [icon]="faEnvelope"></fa-icon>
                        <input type="email" name="secondemail" formControlName="secondemail" id="secondemail" placeholder="Digite seu email secundário">
                    </div>
                                        @if(isFieldInvalid('secondemail')){
                                            <div class="fieldInvalid">O email deve conter um formato válido de email</div>
                                        }
                </div>
            </div>
            <div class="secao-cadastro__container-form__row">
                <div class="secao-cadastro__container-form__row__space">
                    <label for="cep">CEP</label>
                    <div class="secao-cadastro__container-form__row-line">
                        <fa-icon [icon]="faSignsPost"></fa-icon>
                        <input type="text" name="cep" formControlName="cep" id="cep" placeholder="xxxxx-xxx" (blur)="buscarEndereco()">
                    </div>
                                        @if(isFieldInvalid('cep')){
                                            <div class="fieldInvalid">O cep é obrigatório e deve conter o formato válido</div>
                                        }
                </div>
                <div class="secao-cadastro__container-form__row__space">
                    <label for="uf">UF</label>
                    <div class="secao-cadastro__container-form__row-line">
                        <fa-icon [icon]="faSignsPost"></fa-icon>
                        <input type="text" name="uf" formControlName="uf" id="uf" placeholder="UF"/>
                    </div>
                                        @if(isFieldInvalid('uf')){
                                            <div class="fieldInvalid">O UF é obrigatório e deve conter o formato válido</div>
                                        }
                </div>
            </div>
            <div class="secao-cadastro__container-form__row">
                <div class="secao-cadastro__container-form__row__space">
                    <label for="address">Endereço</label>
                    <div class="secao-cadastro__container-form__row-line">
                        <fa-icon [icon]="faMapLocationDot"></fa-icon>
                        <input type="text" name="address" formControlName="address" id="address" placeholder="Digite seu endereço">
                    </div>
                                        @if(isFieldInvalid('address')){
                                            <div class="fieldInvalid">O endereço é obrigatório</div>
                                        }
                </div>
                <div class="secao-cadastro__container-form__row__space">
                    <label for="complement">Complemento</label>
                    <div class="secao-cadastro__container-form__row-line">
                        <fa-icon [icon]="faMap"></fa-icon>
                        <input type="text" name="complement" id="complement" placeholder="Digite o complemento">
                    </div>
                </div>
                
            </div>
            <div class="secao-cadastro__container-form__row">
                <!-- Campo Estado -->
                <div class="secao-cadastro__container-form__row__space">
                    <label for="state">Estado</label>
                    <div class="secao-cadastro__container-form__row-line">
                    <fa-icon [icon]="faVihara"></fa-icon>
                    <input type="text" id="state" name="state" formControlName="state" placeholder="Digite o estado" />
                    </div>
                                        @if(isFieldInvalid('state')){
                                            <div class="fieldInvalid">O estado é obrigatório</div>
                                        }
                </div>
                
                <!-- Campo Cidade -->
                <div class="secao-cadastro__container-form__row__space">
                    <label for="city">Cidade</label>
                    <div class="secao-cadastro__container-form__row-line">
                    <fa-icon [icon]="faCity"></fa-icon>
                    <input type="text" id="city" name="city" formControlName="city" placeholder="Digite a cidade" />
                    </div>
                                        @if(isFieldInvalid('city')){
                                            <div class="fieldInvalid">A cidade é obrigatória</div>
                                        }
                </div>
            </div>
            @if(!isEditMode){
                <div class="secao-cadastro__container-form__row">
                    <!-- Campo de Senha -->
                    <div class="secao-cadastro__container-form__row__space">
                      <label for="password">Senha</label>
                      <div class="secao-cadastro__container-form__row-line">
                        <fa-icon [icon]="faLock"></fa-icon>
                        <input 
                          type="password" 
                          name="password" 
                          formControlName="password" 
                          id="password" 
                          placeholder="**********">
                      </div>
                                            @if(isFieldInvalid('password')){
                                                <div class="fieldInvalid">A senha é obrigatória</div>
                                            }
                    </div>
                  
                    <!-- Campo de Confirmação de Senha -->
                    <div class="secao-cadastro__container-form__row__space">
                      <label for="confirmPassword">Confirme a senha</label>
                      <div class="secao-cadastro__container-form__row-line">
                        <fa-icon [icon]="faLock"></fa-icon>
                        <input 
                          type="password" 
                          name="confirmPassword" 
                          formControlName="confirmPassword" 
                          id="confirmPassword" 
                          placeholder="***********">
                      </div>
                                            @if(isFieldInvalid('confirmPassword')){
                                                <div class="fieldInvalid">
                                                    A confirmação da senha é obrigatória
                                                </div>
                                            }
                                            @if(getPasswordError()){
                                                <div class="fieldInvalid">
                                                    As senhas não coincidem
                                                </div>
                                            }
                    </div>
                  </div>
                  
                <br />
            }
            
            <button type="submit" [disabled]="cadastroForm.invalid" class="btn_submit">Cadastrar</button>
        </form>
        @if(isRegister){
            <div class="btn-home">
                <a routerLink="/login" routerLinkActive="active" class="btn-return">Return</a>
            </div>
        }
        
    </div>
</section>
